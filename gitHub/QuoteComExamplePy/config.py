"""
參數設定檔
在此檔案中設定您的登入帳號、股票代碼和查詢間隔
"""

# ============================================================
# 登入設定
# ============================================================

# 您的 KGI 帳號
ACCOUNT = ""

# 您的密碼
PASSWORD = ""


# ============================================================
# 查詢設定
# ============================================================

# 市場類型（"stock" 股票 或 "futures" 期貨）
MARKET_TYPE = "futures"  # 設定為 "futures" 啟用期貨模式，"stock" 為股票模式
STOCK_CODE = "TMFB6"  # 改為台指期 2025年11月（字母格式）或 "MTX202511"（小台指數字格式）

# 查詢間隔（秒）
# 建議: 測試環境 >= 10 秒, 正式環境 >= 5 秒
QUERY_INTERVAL = 5

# 報價查詢間隔（秒）- 用於定時主動查詢報價
# 每隔多少秒查詢一次最後價格
QUOTE_QUERY_INTERVAL = 5


# ============================================================
# 伺服器設定（通常不需要修改）
# ============================================================

# 伺服器位址
SERVER_HOST = "iquote.kgi.com.tw"

# 伺服器埠號
SERVER_PORT = 443

# API Token
API_TOKEN = "b6eb"

# Session ID
SESSION_ID = "API"


# ============================================================
# 進階設定
# ============================================================

# 是否在啟動時自動登入（True/False）
AUTO_LOGIN = True

# 是否在登入後自動開始查詢（True/False）
AUTO_START_QUERY = True

# 登入逾時時間（秒）
LOGIN_TIMEOUT = 10

# DLL 檔案路徑
# 修正為 QuoteComExamplePy 資料夾（DLL 檔案實際位置）
DLL_PATH = r"C:\Users\88698\Desktop\gitHub\QuoteComExamplePy"


# ============================================================
# MACD 交易策略設定
# ============================================================

# MACD 參數設定（快速模式，減少等待時間）
MACD_SHORT_PERIOD = 5    # 短期 EMA 週期（快速模式：5，標準：12）
MACD_LONG_PERIOD = 10    # 長期 EMA 週期（快速模式：10，標準：26）
MACD_SIGNAL_PERIOD = 5   # 訊號線週期（快速模式：5，標準：9）

# 說明：
# 快速模式只需要 15 根 1 分 K 線（約 15 分鐘）就能開始運作
# 程式會自動產生模擬歷史 K 線，立即啟動 MACD 監控
# 標準模式需要 35 根 5 分 K 線（約 175 分鐘）

# MACD 停利停損設定
MACD_STOP_LOSS = 50        # 停損點數（預設 50 點，設為 None 不啟用）
MACD_TAKE_PROFIT = 150     # 停利點數（預設 100 點，設為 None 不啟用）
MACD_TRAILING_STOP = 30  # 追蹤停損點數（預設 None 不啟用，建議 30 點）

# 停利停損說明：
# 1. 固定停損 (MACD_STOP_LOSS): 虧損達到設定點數時立即平倉，防止損失擴大
#    範例：設定 50 點，虧損達到 -50 點時自動停損
# 
# 2. 固定停利 (MACD_TAKE_PROFIT): 獲利達到設定點數時立即平倉，鎖定獲利
#    範例：設定 100 點，獲利達到 +100 點時自動停利
# 
# 3. 追蹤停損 (MACD_TRAILING_STOP): 讓獲利持續奔跑，但保護已有獲利
#    範例：設定 30 點，從最高點（多單）或最低點（空單）回撤 30 點時停損
#    多單例子：開倉 27000，漲到 27100，回落到 27070 時觸發追蹤停損
#    空單例子：開倉 27000，跌到 26900，反彈到 26930 時觸發追蹤停損
# 
# 建議配置：
# - 保守型：STOP_LOSS=30, TAKE_PROFIT=60, TRAILING_STOP=None
# - 平衡型：STOP_LOSS=50, TAKE_PROFIT=100, TRAILING_STOP=None（當前配置）
# - 進取型：STOP_LOSS=80, TAKE_PROFIT=None, TRAILING_STOP=40


# ============================================================
# RSI 過濾設定
# ============================================================

# RSI 過濾開關
ENABLE_RSI_FILTER = True   # 是否啟用 RSI 過濾（True/False）

# RSI 參數設定
RSI_PERIOD = 14            # RSI 週期（預設 14）
RSI_OVERBOUGHT = 40        # RSI 超買線（預設 65，保守型）
RSI_OVERSOLD = 60          # RSI 超賣線（預設 35，保守型）

# RSI 過濾說明：
# RSI (相對強弱指標) 用於判斷市場是否超買或超賣
# 
# 過濾規則：
# - 黃金交叉（做多訊號）：當 RSI >= 超買線時，過濾該訊號（避免在高點追多）
# - 死亡交叉（做空訊號）：當 RSI <= 超賣線時，過濾該訊號（避免在低點追空）
# 
# 參數建議：
# - 保守型（減少交易）：超買 65 / 超賣 35（當前配置，較嚴格）
# - 平衡型（標準設定）：超買 70 / 超賣 30
# - 積極型（增加交易）：超買 80 / 超賣 20（較寬鬆，更多訊號）
# 
# 注意：
# - RSI 超買線越低，過濾的做多訊號越多
# - RSI 超賣線越高，過濾的做空訊號越多
# - 若要關閉 RSI 過濾，將 ENABLE_RSI_FILTER 設為 False


# ============================================================
# 時間管理設定（嚴格執行）
# ============================================================

# 每日強制平倉時間設定
# 格式: (小時, 分鐘)

# 日盤結束前強制平倉時間 (13:30)
FORCE_CLOSE_TIME_1 = (13, 30)

# 夜盤結束前強制平倉時間 (04:30)
FORCE_CLOSE_TIME_2 = (4, 30)

# 是否啟用時間管理功能
ENABLE_TIME_MANAGEMENT = True

# 平倉後暫停下單的時間（分鐘）
# 在強制平倉後的這段時間內不接受新的交易訊號
SUSPEND_TRADING_MINUTES = 60


